<mvc:View
    xmlns:upload="sap.m.upload"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    controllerName="sample.controller.App"
    height="100%"
>
    <upload:UploadSet
        id="UploadSet"
        instantUpload="true"
        showIcons="true"
        uploadEnabled="true"
        terminationEnabled="true"
        uploadCompleted="onUploadCompleted"
        items="{path: '/Files', templateShareable: false, events: { dataRequested: '.onDataRequested', dataReceived: '.onDataReceived' } }"
        selectionChanged="onSelectionChange"
        busy="{view>/busy}"
    >
        <upload:toolbar>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button
                    text="Download"
                    enabled="{view>/hasSelectedItems}"
                    press="onDownloadPress"
                />
            </OverflowToolbar>
        </upload:toolbar>
        <upload:items>
            <upload:UploadSetItem
                fileName="{name}"
                mediaType="{contentType}"
                url="/odata/v4/sample/Files/{id}/content?CMISObjectId={CMISObjectId}"
                openPressed=".onOpenPressed"
                attributes="{path: 'attributes', templateShareable: false}"
                markers="{path: 'markers', templateShareable: false}"
                statuses="{path: 'statuses', templateShareable: false}"
                uploadState="{uploadState}"
            >
                <upload:attributes>
                    <ObjectAttribute
                        title="{title}"
                        text="{text}"
                        active="{active}"
                    />
                </upload:attributes>
                <upload:markers>
                    <ObjectMarker
                        type="{type}"
                        visibility="{visibility}"
                    />
                </upload:markers>
                <upload:statuses>
                    <ObjectStatus
                        title="{title}"
                        text="{text}"
                        state="{state}"
                        icon="{icon}"
                        active="{active}"
                    />
                </upload:statuses>
            </upload:UploadSetItem>
        </upload:items>
    </upload:UploadSet>
</mvc:View>
